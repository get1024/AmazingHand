nodes:
  - id: hand_tracker
    build: pip install -e HandTracking
    path: HandTracking/Src/main.py
    inputs:
      tick: dora/timer/millis/10
    outputs:
      - r_hand_pos

  - id: hand_simulation
    build: pip install -e AHSimulation
    path: AHSimulation/Src/mj_mink_right.py
    inputs:
      hand_pos: hand_tracker/r_hand_pos
      tick: dora/timer/millis/2
      tick_ctrl: dora/timer/millis/10
    outputs:
      - mj_r_joints_pos

  - id: hand_controller
    build: cargo build -p AHControl --release
    path: target/release/AHControl.exe #--serialport /dev/ttyACM0 --config AHControl/config/r_hand.toml
    args: --serialport COM3 --config AHControl/config/r_hand.toml
    inputs:
      mj_r_joints_pos: hand_simulation/mj_r_joints_pos
